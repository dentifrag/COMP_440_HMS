{% extends 'base.html' %}

{% block content %}
    <h2>Patients List</h2>
    <a href="{{ url_for('patients.add_patient') }}">Add New Patient</a>
    <a href="{{ url_for('patients.edit_patient', patient_id = patients[0].patient_id) }}">Edit Patient</a>
    <a href="{{ url_for('patients.delete_patient', patient_id=patients[0].patient_id) }}">Delete Patient</a>
    <table>
        <thead>
            <tr>
                {% if patients %}
                    {% for column in patients[0].keys() %}
                        <th>{{ column }}</th>
                    {% endfor %}
                {% endif %}
            </tr>
        </thead>
        <tbody>
            {% for patient in patients %}
            <tr>
                {% for value in patient.values() %}
                    <td>{{ value }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}